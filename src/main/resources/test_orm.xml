<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0"
  xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd">
  
  <named-query name="GetTestMessages">
  	<query>SELECT m FROM JProject m ORDER BY m.description ASC</query>
  </named-query>
  
  <named-query name="GetRecordsFromAccountWithParentType">
  	<query>SELECT r FROM WalletRecord r inner join r.walletType t inner join r.walletAccount a where r.income = :income and a.id = :accountId and t.parentType is null</query>
  </named-query>
  
  <named-query name="GetRecordsFromAccountWithAllTypes">
  	<query>SELECT r FROM WalletRecord r inner join r.walletType t inner join r.walletAccount a where r.income = :income and a.id = :accountId ORDER BY t.name ASC</query>
  </named-query>
  
  <named-query name="GetRecordsFromAccountWithType">
  	<query>SELECT r FROM WalletRecord r inner join r.walletType t inner join r.walletAccount a where t.id = :typeId and r.income = :income and a.id = :accountId ORDER BY r.date ASC</query>
  </named-query>
  
<!--   nie działą poprawnie -->
  <named-query name="GetRecordByParentType">
  	<query>SELECT r FROM WalletRecord r WHERE r.walletType.id = :typeId</query>
  </named-query>
  
  <named-query name="GetRecordByType">
  	<query>SELECT r FROM WalletRecord r WHERE r.walletType.id = :typeId</query>
  </named-query>
  
  <named-query name="GetChildren">
  	<query>SELECT t FROM WalletType t WHERE t.parentType.id = :typeId OR t.id = :typeId</query>
  </named-query>
  
  <named-query name="GetRecordByTypeIncome">
  	<query>SELECT r FROM WalletRecord r WHERE r.walletType.id = :typeId and r.income = :income</query>
  </named-query>
  
</entity-mappings>